{"ast":null,"code":"export default {\n  name: 'WebOther',\n  data() {\n    return {\n      fruitList: JSON.parse(localStorage.getItem('list')),\n      defaultArr: [{\n        id: 1,\n        icon: 'http://autumnfish.cn/static/火龙果.png',\n        isChecked: true,\n        num: 2,\n        price: 6\n      }, {\n        id: 2,\n        icon: 'http://autumnfish.cn/static/荔枝.png',\n        isChecked: false,\n        num: 7,\n        price: 20\n      }, {\n        id: 3,\n        icon: 'http://autumnfish.cn/static/榴莲.png',\n        isChecked: false,\n        num: 3,\n        price: 40\n      }, {\n        id: 4,\n        icon: 'http://autumnfish.cn/static/鸭梨.png',\n        isChecked: true,\n        num: 10,\n        price: 3\n      }, {\n        id: 5,\n        icon: 'http://autumnfish.cn/static/樱桃.png',\n        isChecked: false,\n        num: 20,\n        price: 34\n      }]\n    };\n  },\n  computed: {\n    isAll: {\n      get() {\n        return this.fruitList.every(item => item.isChecked);\n      },\n      set(value) {\n        this.fruitList.forEach(item => item.isChecked = value);\n      }\n    },\n    totalCount() {\n      return this.fruitList.reduce((sum, item) => {\n        if (item.isChecked) {\n          // 选中 → 需要累加\n          return sum + item.num;\n        } else {\n          // 没选中 → 不需要累加\n          return sum;\n        }\n      }, 0);\n    },\n    // 总计选中的总价 num * price\n    totalPrice() {\n      return this.fruitList.reduce((sum, item) => {\n        if (item.isChecked) {\n          return sum + item.num * item.price;\n        } else {\n          return sum;\n        }\n      }, 0);\n    }\n  },\n  methods: {\n    del(id) {\n      this.fruitList = this.fruitList.filter(item => item.id !== id);\n    },\n    add(id) {\n      // 1. 根据 id 找到数组中的对应项 → find\n      const fruit = this.fruitList.find(item => item.id === id);\n      // 2. 操作 num 数量\n      fruit.num++;\n    },\n    sub(id) {\n      // 1. 根据 id 找到数组中的对应项 → find\n      const fruit = this.fruitList.find(item => item.id === id);\n      // 2. 操作 num 数量\n      fruit.num--;\n    }\n  },\n  watch: {\n    fruitList: {\n      deep: true,\n      handler(newValue) {\n        // 需要将变化后的 newValue 存入本地 （转JSON）\n        localStorage.setItem('list', JSON.stringify(newValue));\n      }\n    }\n  }\n};","map":{"version":3,"names":["name","data","fruitList","JSON","parse","localStorage","getItem","defaultArr","id","icon","isChecked","num","price","computed","isAll","get","every","item","set","value","forEach","totalCount","reduce","sum","totalPrice","methods","del","filter","add","fruit","find","sub","watch","deep","handler","newValue","setItem","stringify"],"sources":["src/views/Offprint.vue"],"sourcesContent":["<template>\r\n  <div class=\"All\">\r\n    <div class=\"container\">\r\n      <span></span>\r\n      <span></span>\r\n      <span></span>\r\n      <span></span>\r\n      <span></span>\r\n      <span></span>\r\n      <span></span>\r\n      <span></span>\r\n      <span></span>\r\n      <span></span>\r\n  </div>\r\n  <div class=\"app-container\" id=\"app\">\r\n    <!-- 顶部banner -->\r\n    <div class=\"banner-box\"><img src=\"http://autumnfish.cn/static/fruit.jpg\" alt=\"\" /></div>\r\n    <!-- 面包屑 -->\r\n    <div class=\"breadcrumb\">\r\n      <span>🏠</span>\r\n      /\r\n      <span>购物车</span>\r\n    </div>\r\n    <!-- 购物车主体 -->\r\n    <div class=\"main\" v-if=\"fruitList.length > 0\">\r\n      <div class=\"table\">\r\n        <!-- 头部 -->\r\n        <div class=\"thead\">\r\n          <div class=\"tr\">\r\n            <div class=\"th\">选中</div>\r\n            <div class=\"th th-pic\">图片</div>\r\n            <div class=\"th\">单价</div>\r\n            <div class=\"th num-th\">个数</div>\r\n            <div class=\"th\">小计</div>\r\n            <div class=\"th\">操作</div>\r\n          </div>\r\n        </div>\r\n        <!-- 身体 -->\r\n        <div class=\"tbody\">\r\n          <div v-for=\"(item) in fruitList\" :key=\"item.id\" class=\"tr\" :class=\"{ active: item.isChecked }\">\r\n            <div class=\"td\"><input type=\"checkbox\" v-model=\"item.isChecked\" /></div>\r\n            <div class=\"td\"><img :src=\"item.icon\" alt=\"\" /></div>\r\n            <div class=\"td\">{{ item.price }}</div>\r\n            <div class=\"td\">\r\n              <div class=\"my-input-number\">\r\n                <button :disabled=\"item.num <= 1\" class=\"decrease\" @click=\"sub(item.id)\"> - </button>\r\n                <span class=\"my-input__inner\">{{ item.num }}</span>\r\n                <button class=\"increase\" @click=\"add(item.id)\"> + </button>\r\n              </div>\r\n            </div>\r\n            <div class=\"td\">{{ item.num * item.price }}</div>\r\n            <div class=\"td\"><button @click=\"del(item.id)\">删除</button></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!-- 底部 -->\r\n      <div class=\"bottom\">\r\n        <!-- 全选 -->\r\n        <label class=\"check-all\">\r\n          <input type=\"checkbox\" v-model=\"isAll\"/>\r\n          全选\r\n        </label>\r\n        <div class=\"right-box\">\r\n          <!-- 所有商品总价 -->\r\n          <span class=\"price-box\">总价&nbsp;&nbsp;:&nbsp;&nbsp;¥&nbsp;<span class=\"price\">{{ totalPrice }}</span></span>\r\n          <!-- 结算按钮 -->\r\n          <button class=\"pay\">结算( {{ totalCount }} )</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- 空车 -->\r\n    <div class=\"empty\" v-else>🛒空空如也</div>\r\n  </div>\r\n  <div class=\"body\">\r\n\r\n  </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\nname:'WebOther',\r\n        data(){\r\n          return {\r\n            fruitList: JSON.parse(localStorage.getItem('list')),\r\n            defaultArr:[\r\n            {\r\n              id: 1,\r\n              icon: 'http://autumnfish.cn/static/火龙果.png',\r\n              isChecked: true,\r\n              num: 2,\r\n              price: 6,\r\n            },\r\n            {\r\n              id: 2,\r\n              icon: 'http://autumnfish.cn/static/荔枝.png',\r\n              isChecked: false,\r\n              num: 7,\r\n              price: 20,\r\n            },\r\n            {\r\n              id: 3,\r\n              icon: 'http://autumnfish.cn/static/榴莲.png',\r\n              isChecked: false,\r\n              num: 3,\r\n              price: 40,\r\n            },\r\n            {\r\n              id: 4,\r\n              icon: 'http://autumnfish.cn/static/鸭梨.png',\r\n              isChecked: true,\r\n              num: 10,\r\n              price: 3,\r\n            },\r\n            {\r\n              id: 5,\r\n              icon: 'http://autumnfish.cn/static/樱桃.png',\r\n              isChecked: false,\r\n              num: 20,\r\n              price: 34,\r\n            },\r\n          ],\r\n          }\r\n        },\r\n        computed: {\r\n          isAll: {\r\n            get () {\r\n              return this.fruitList.every(item => item.isChecked)\r\n            },\r\n            set (value) {\r\n              this.fruitList.forEach(item => item.isChecked = value)\r\n            }\r\n          },\r\n          totalCount () {\r\n            return this.fruitList.reduce((sum, item) => {\r\n              if (item.isChecked) {\r\n                // 选中 → 需要累加\r\n                return sum + item.num\r\n              } else {\r\n                // 没选中 → 不需要累加\r\n                return sum\r\n              }\r\n            }, 0)\r\n          },\r\n          // 总计选中的总价 num * price\r\n          totalPrice () {\r\n            return this.fruitList.reduce((sum, item) => {\r\n              if (item.isChecked) {\r\n                return sum + item.num * item.price\r\n              } else {\r\n                return sum\r\n              }\r\n            }, 0)\r\n          }\r\n        },\r\n        methods: {\r\n          del (id) {\r\n            this.fruitList = this.fruitList.filter(item => item.id !== id)\r\n          },\r\n          add (id) {\r\n            // 1. 根据 id 找到数组中的对应项 → find\r\n            const fruit = this.fruitList.find(item => item.id === id)\r\n            // 2. 操作 num 数量\r\n            fruit.num++\r\n          },\r\n          sub (id) {\r\n            // 1. 根据 id 找到数组中的对应项 → find\r\n            const fruit = this.fruitList.find(item => item.id === id)\r\n            // 2. 操作 num 数量\r\n            fruit.num--\r\n          }\r\n        },\r\n        watch: {\r\n          fruitList: {\r\n            deep: true,\r\n            handler (newValue) {\r\n              // 需要将变化后的 newValue 存入本地 （转JSON）\r\n              localStorage.setItem('list', JSON.stringify(newValue))\r\n            }\r\n          }\r\n        }\r\n      }\r\n</script>\r\n\r\n\r\n<style scoped>\r\n.body{\r\n  width: 60%;\r\n  background: #234781;\r\n  height: 60vh;\r\n  position: absolute;\r\n  top: 20%;\r\n  left: 20%;\r\n  opacity: 0.8;\r\n}\r\n.container{\r\n  /* 绝对定位 */\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  animation: animateBg 5s linear infinite;\r\n}\r\nspan{\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  width: 4px;\r\n  height: 4px;\r\n  background-color: #fff;\r\n  border-radius: 50%;\r\n  /* 发光效果 */\r\n  box-shadow: 0 0 0 4px rgba(255,255,255,0.1),\r\n  0 0 0 8px rgba(255,255,255,0.1),\r\n  0 0 20px rgba(255,255,255,1);\r\n\r\n  animation: animate 3s linear infinite;\r\n}\r\n\r\n\r\nspan::before{\r\n  content: \"\";\r\n  position: absolute;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  width: 300px;\r\n  height: 3px;\r\n  background: linear-gradient(90deg,#fff,transparent);\r\n}\r\n\r\n/* 每一个流星 */\r\nspan:nth-child(1){\r\n  top: 0;\r\n  right: 0;\r\n  left: initial;\r\n  animation-delay: 0s;\r\n  animation-duration: 1s;\r\n}\r\nspan:nth-child(2){\r\n  top: 0;\r\n  right: 80px;\r\n  left: initial;\r\n  animation-delay: 0.2s;\r\n  animation-duration: 3s;\r\n}\r\nspan:nth-child(3){\r\n  top: 80px;\r\n  right: 0;\r\n  left: initial;\r\n  animation-delay: 0.4s;\r\n  animation-duration: 2s;\r\n}\r\nspan:nth-child(4){\r\n  top: 0;\r\n  right: 180px;\r\n  left: initial;\r\n  animation-delay: 0.6s;\r\n  animation-duration: 1.5s;\r\n}\r\nspan:nth-child(5){\r\n  top: 0;\r\n  right: 400px;\r\n  left: initial;\r\n  animation-delay: 0.8s;\r\n  animation-duration: 2.5s;\r\n}\r\nspan:nth-child(6){\r\n  top: 0;\r\n  right: 600px;\r\n  left: initial;\r\n  animation-delay: 1s;\r\n  animation-duration: 3s;\r\n}\r\nspan:nth-child(7){\r\n  top: 300px;\r\n  right: 0;\r\n  left: initial;\r\n  animation-delay: 1.2s;\r\n  animation-duration: 1.75s;\r\n}\r\nspan:nth-child(8){\r\n  top: 0;\r\n  right: 700px;\r\n  left: initial;\r\n  animation-delay: 1.4s;\r\n  animation-duration: 1.25s;\r\n}\r\nspan:nth-child(9){\r\n  top: 0;\r\n  right: 1000px;\r\n  left: initial;\r\n  animation-delay: 0.75s;\r\n  animation-duration: 2.25s;\r\n}\r\nspan:nth-child(10){\r\n  top: 0;\r\n  right: 450px;\r\n  left: initial;\r\n  animation-delay: 2.75s;\r\n  animation-duration: 2.25s;\r\n}\r\n\r\n\r\n/* 背景缩放*/\r\n@keyframes animateBg {\r\n  0%,100%{\r\n      transform: scale(1);\r\n  }\r\n  50%{\r\n      transform: scale(1.2);\r\n  }\r\n}\r\n/* 流星划过*/\r\n@keyframes animate {\r\n  0%{\r\n      transform: rotate(315deg) translateX(0);\r\n      opacity: 1;\r\n  }\r\n  90%{\r\n      opacity: 1;\r\n  }\r\n  100%{\r\n      transform: rotate(315deg) translateX(-1000px);\r\n      opacity: 0;\r\n  }\r\n}\r\n.All{\r\n  height: 100vh;\r\n  width: 100%;\r\n  background-color:#222;\r\n  position: relative;\r\n}\r\n.my-input-number {\r\n  position: relative;\r\n  display: inline-block;\r\n  width: 140px;\r\n  line-height: 38px;\r\n}\r\n.my-input-number span {\r\n  -moz-user-select: none;\r\n  -webkit-user-select: none;\r\n  -ms-user-select: none;\r\n}\r\n.my-input-number .my-input {\r\n  display: block;\r\n  position: relative;\r\n  font-size: 14px;\r\n  width: 100%;\r\n}\r\n.my-input-number .my-input__inner {\r\n  -webkit-appearance: none;\r\n  background-color: #fff;\r\n  background-image: none;\r\n  border-radius: 4px;\r\n  border: 1px solid #dcdfe6;\r\n  box-sizing: border-box;\r\n  color: #606266;\r\n  display: inline-block;\r\n  font-size: inherit;\r\n  height: 40px;\r\n  line-height: 40px;\r\n  outline: none;\r\n  padding: 0 15px;\r\n  transition: border-color 0.2s cubic-bezier(0.645, 0.045, 0.355, 1);\r\n  width: 100%;\r\n  padding-left: 50px;\r\n  padding-right: 50px;\r\n  text-align: center;\r\n}\r\n.my-input-number .my-input-number__decrease,\r\n.my-input-number .my-input-number__increase {\r\n  position: absolute;\r\n  z-index: 1;\r\n  top: 1px;\r\n  width: 40px;\r\n  height: auto;\r\n  text-align: center;\r\n  background: #f5f7fa;\r\n  color: #606266;\r\n  cursor: pointer;\r\n  font-size: 13px;\r\n}\r\n.my-input-number .my-input-number__decrease {\r\n  left: 1px;\r\n  border-radius: 4px 0 0 4px;\r\n  border-right: 1px solid #dcdfe6;\r\n}\r\n.my-input-number .my-input-number__increase {\r\n  right: 1px;\r\n  border-radius: 0 4px 4px 0;\r\n  border-left: 1px solid #dcdfe6;\r\n}\r\n.my-input-number .my-input-number__decrease.is-disabled,\r\n.my-input-number .my-input-number__increase.is-disabled {\r\n  color: #c0c4cc;\r\n  cursor: not-allowed;\r\n}\r\n  align-items: center;\r\n}\r\n\r\n.table img {\r\n  width: 100px;\r\n  height: 100px;\r\n}\r\n\r\nbutton {\r\n  outline: 0;\r\n  box-shadow: none;\r\n  color: #fff;\r\n  background: #d9363e;\r\n  border-color: #d9363e;\r\n  color: #fff;\r\n  background: #d9363e;\r\n  border-color: #d9363e;\r\n  line-height: 1.5715;\r\n  position: relative;\r\n  display: inline-block;\r\n  font-weight: 400;\r\n  white-space: nowrap;\r\n  text-align: center;\r\n  background-image: none;\r\n  border: 1px solid transparent;\r\n  box-shadow: 0 2px 0 rgb(0 0 0 / 2%);\r\n  cursor: pointer;\r\n  transition: all 0.3s cubic-bezier(0.645, 0.045, 0.355, 1);\r\n  -webkit-user-select: none;\r\n  -moz-user-select: none;\r\n  -ms-user-select: none;\r\n  user-select: none;\r\n  touch-action: manipulation;\r\n  height: 32px;\r\n  padding: 4px 15px;\r\n  font-size: 14px;\r\n  border-radius: 2px;\r\n}\r\nbutton.pay {\r\n  background-color: #3f85ed;\r\n  margin-left: 20px;\r\n}\r\n\r\n.bottom {\r\n  height: 60px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding-right: 20px;\r\n  border: 1px solid #f0f0f0;\r\n  border-top: none;\r\n  padding-left: 20px;\r\n}\r\n.right-box {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n.check-all {\r\n  cursor: pointer;\r\n}\r\n.price {\r\n  color: hotpink;\r\n  font-size: 30px;\r\n  font-weight: 700;\r\n}\r\n.price-box {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n.empty {\r\n  padding: 20px;\r\n  text-align: center;\r\n  font-size: 30px;\r\n  color: #909399;\r\n}\r\n.my-input-number {\r\n  display: flex;\r\n}\r\n.my-input-number button {\r\n  height: 40px;\r\n  color: #333;\r\n  border: 1px solid #dcdfe6;\r\n  background-color: #f5f7fa;\r\n}\r\n.my-input-number button:disabled {\r\n  cursor: not-allowed!important;\r\n}\r\n.my-input-number .my-input__inner {\r\n  height: 40px;\r\n  width: 50px;\r\n  padding: 0;\r\n  border: none;\r\n  border-top: 1px solid #dcdfe6;\r\n  border-bottom: 1px solid #dcdfe6;\r\n}\r\n\r\n</style>"],"mappings":"AAgFA;EACAA,IAAA;EACAC,KAAA;IACA;MACAC,SAAA,EAAAC,IAAA,CAAAC,KAAA,CAAAC,YAAA,CAAAC,OAAA;MACAC,UAAA,GACA;QACAC,EAAA;QACAC,IAAA;QACAC,SAAA;QACAC,GAAA;QACAC,KAAA;MACA,GACA;QACAJ,EAAA;QACAC,IAAA;QACAC,SAAA;QACAC,GAAA;QACAC,KAAA;MACA,GACA;QACAJ,EAAA;QACAC,IAAA;QACAC,SAAA;QACAC,GAAA;QACAC,KAAA;MACA,GACA;QACAJ,EAAA;QACAC,IAAA;QACAC,SAAA;QACAC,GAAA;QACAC,KAAA;MACA,GACA;QACAJ,EAAA;QACAC,IAAA;QACAC,SAAA;QACAC,GAAA;QACAC,KAAA;MACA;IAEA;EACA;EACAC,QAAA;IACAC,KAAA;MACAC,IAAA;QACA,YAAAb,SAAA,CAAAc,KAAA,CAAAC,IAAA,IAAAA,IAAA,CAAAP,SAAA;MACA;MACAQ,IAAAC,KAAA;QACA,KAAAjB,SAAA,CAAAkB,OAAA,CAAAH,IAAA,IAAAA,IAAA,CAAAP,SAAA,GAAAS,KAAA;MACA;IACA;IACAE,WAAA;MACA,YAAAnB,SAAA,CAAAoB,MAAA,EAAAC,GAAA,EAAAN,IAAA;QACA,IAAAA,IAAA,CAAAP,SAAA;UACA;UACA,OAAAa,GAAA,GAAAN,IAAA,CAAAN,GAAA;QACA;UACA;UACA,OAAAY,GAAA;QACA;MACA;IACA;IACA;IACAC,WAAA;MACA,YAAAtB,SAAA,CAAAoB,MAAA,EAAAC,GAAA,EAAAN,IAAA;QACA,IAAAA,IAAA,CAAAP,SAAA;UACA,OAAAa,GAAA,GAAAN,IAAA,CAAAN,GAAA,GAAAM,IAAA,CAAAL,KAAA;QACA;UACA,OAAAW,GAAA;QACA;MACA;IACA;EACA;EACAE,OAAA;IACAC,IAAAlB,EAAA;MACA,KAAAN,SAAA,QAAAA,SAAA,CAAAyB,MAAA,CAAAV,IAAA,IAAAA,IAAA,CAAAT,EAAA,KAAAA,EAAA;IACA;IACAoB,IAAApB,EAAA;MACA;MACA,MAAAqB,KAAA,QAAA3B,SAAA,CAAA4B,IAAA,CAAAb,IAAA,IAAAA,IAAA,CAAAT,EAAA,KAAAA,EAAA;MACA;MACAqB,KAAA,CAAAlB,GAAA;IACA;IACAoB,IAAAvB,EAAA;MACA;MACA,MAAAqB,KAAA,QAAA3B,SAAA,CAAA4B,IAAA,CAAAb,IAAA,IAAAA,IAAA,CAAAT,EAAA,KAAAA,EAAA;MACA;MACAqB,KAAA,CAAAlB,GAAA;IACA;EACA;EACAqB,KAAA;IACA9B,SAAA;MACA+B,IAAA;MACAC,QAAAC,QAAA;QACA;QACA9B,YAAA,CAAA+B,OAAA,SAAAjC,IAAA,CAAAkC,SAAA,CAAAF,QAAA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}