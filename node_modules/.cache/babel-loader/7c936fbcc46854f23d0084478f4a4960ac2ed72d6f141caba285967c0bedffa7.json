{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: \"WebAnimation\",\n  data() {\n    return {\n      fan: [{\n        view: \"../assets/他.png\",\n        preview: \"../assets/他.png\",\n        msg: \"辉夜大小姐\"\n      }, {\n        view: \"../assets/他.png\",\n        preview: \"../assets/他.png\",\n        msg: \"夏日重现\"\n      }, {\n        view: \"../assets/他.png\",\n        preview: \"../assets/他.png\",\n        msg: \"盾之勇者成名录\"\n      }, {\n        view: \"../assets/他.png\",\n        preview: \"../assets/他.png\",\n        msg: \"间谍过家家\"\n      }, {\n        view: \"../assets/他.png\",\n        preview: \"../assets/他.png\",\n        msg: \"约会大作战\"\n      }],\n      view: [],\n      preview: [],\n      msg: [],\n      index: 0,\n      timer: null\n    };\n  },\n  methods: {\n    startInterval() {\n      this.timer = setInterval(() => {\n        this.$refs.view.style.transition = '0.3s';\n        this.$refs.view.style.left = -1160 * this.index + 'px';\n        this.$refs.checkBorder.style.right = 5 + 78 * (this.preview.length - this.index - 1) + 'px';\n        if (this.preview.length === this.index) {\n          this.$refs.checkBorder.style.right = 5 + 78 * (this.preview.length - 1) + 'px';\n        }\n        this.index++;\n      }, 3000);\n    },\n    // 鼠标悬浮在图片上时停止轮播\n    mouseover(event) {\n      clearInterval(this.timer);\n      if (event.target.name !== undefined) {\n        let name = Number(event.target.name);\n        this.$refs.view.style.left = -1160 * name + 'px';\n        this.$refs.checkBorder.style.right = 5 + 78 * (this.preview.length - name - 1) + 'px';\n        this.index = name + 1;\n      }\n    }\n  },\n  mounted() {\n    this.fan.forEach(item => {\n      this.view.push(item.view);\n      this.preview.push(item.preview);\n      this.msg.push({\n        msg: item.msg,\n        isShow: false\n      });\n    });\n    this.view.push(this.view[0]);\n    this.$refs.view.addEventListener('transitionend', () => {\n      if (this.index === this.view.length) {\n        this.index = 1;\n        this.$refs.view.style.transition = '0s';\n        this.$refs.view.style.left = '0px';\n      } else {\n        this.index = 0;\n      }\n    }, false);\n    this.startInterval();\n  }\n};","map":{"version":3,"names":["name","data","fan","view","preview","msg","index","timer","methods","startInterval","setInterval","$refs","style","transition","left","checkBorder","right","length","mouseover","event","clearInterval","target","undefined","Number","mounted","forEach","item","push","isShow","addEventListener"],"sources":["src/views/Animation.vue"],"sourcesContent":["<template>\r\n  <div id=\"root\" @mouseover=\"mouseover\" @mouseout=\"startInterval\">\r\n    <!-- 大图轮播 -->\r\n    <div class=\"view\" ref=\"view\">\r\n        <img v-for=\"(img,index) in view\" :name=\"index\" :src=\"img\" :key=\"index\"/>\r\n    </div>\r\n    <!-- 下方的阴影 -->\r\n    <div class=\"shadow\">\r\n        <!-- 文字渐入渐出动画 -->\r\n        <transition-group>\r\n            <span v-for=\"(msgObj, index) in msg\" ref=\"msg\" v-show=\"msgObj.isShow\" :key=\"index\">{{msgObj.msg}}</span>\r\n        </transition-group>\r\n        <!-- 右下角缩略图以及红框 -->\r\n        <div class=\"preview\" ref=\"preview\">\r\n            <img v-for=\"(pre, index) in preview\" :name=\"index\" :src=\"pre\" :key=\"index\"/>\r\n            <div class=\"checkBorder\" ref=\"checkBorder\"></div>\r\n        </div>\r\n    </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\nname:\"WebAnimation\",\r\ndata(){\r\n  return{\r\n            fan: [\r\n                { view: \"../assets/他.png\", preview: \"../assets/他.png\", msg: \"辉夜大小姐\" },\r\n                { view: \"../assets/他.png\", preview: \"../assets/他.png\", msg: \"夏日重现\" },\r\n                { view: \"../assets/他.png\", preview: \"../assets/他.png\", msg: \"盾之勇者成名录\" },\r\n                { view: \"../assets/他.png\", preview: \"../assets/他.png\", msg: \"间谍过家家\" },\r\n                { view: \"../assets/他.png\", preview: \"../assets/他.png\", msg: \"约会大作战\" },\r\n            ],\r\n            view: [],\r\n            preview: [],\r\n            msg: [],\r\n            index: 0,\r\n            timer: null\r\n        };\r\n  },\r\n  methods: {\r\n            startInterval() {\r\n                this.timer = setInterval(() => {\r\n                    this.$refs.view.style.transition = '0.3s';\r\n                    this.$refs.view.style.left = -1160 * this.index + 'px';\r\n                    this.$refs.checkBorder.style.right = 5 + 78 * (this.preview.length - this.index - 1) + 'px';\r\n                    if (this.preview.length === this.index) {\r\n                        this.$refs.checkBorder.style.right = 5 + 78 * (this.preview.length - 1) + 'px';\r\n                    }\r\n                    this.index++;\r\n                }, 3000);\r\n            },\r\n            // 鼠标悬浮在图片上时停止轮播\r\n            mouseover(event) {\r\n                clearInterval(this.timer);\r\n                if (event.target.name !== undefined) {\r\n                    let name = Number(event.target.name);\r\n                    this.$refs.view.style.left = -1160 * name + 'px';\r\n                    this.$refs.checkBorder.style.right = 5 + 78 * (this.preview.length - name - 1) + 'px';\r\n                    this.index = name + 1;\r\n                }\r\n            },\r\n        },\r\n        mounted() {\r\n            this.fan.forEach(item => {\r\n                this.view.push(item.view);\r\n                this.preview.push(item.preview);\r\n                this.msg.push({msg: item.msg, isShow: false});\r\n            });\r\n            this.view.push(this.view[0]);\r\n\r\n            this.$refs.view.addEventListener('transitionend', () => {\r\n                if (this.index === this.view.length) {\r\n                    this.index = 1;\r\n                    this.$refs.view.style.transition = '0s';\r\n                    this.$refs.view.style.left = '0px';\r\n                }else{\r\n                  this.index=0;\r\n                }\r\n            }, false);\r\n\r\n            this.startInterval();\r\n        },\r\n       \r\n    }\r\n\r\n\r\n</script>\r\n\r\n<style scoped>\r\n\r\n#root {\r\n  width: 1160px;\r\n  height: 332px;\r\n  margin: 50px auto;\r\n  position: relative;\r\n  overflow: hidden;\r\n  border-radius: 5px;\r\n}\r\n\r\n.view {\r\n  position: absolute;\r\n  white-space: nowrap;\r\n  transition: 0.3s;\r\n}\r\n\r\n.shadow{\r\n  position: absolute;\r\n  bottom: 0;\r\n  height: 60px;\r\n  width: 1160px;\r\n  background-image: linear-gradient(rgba(0,0,0,0), rgba(0,0,0,0.7));\r\n}\r\n\r\n.preview {\r\n  right: 5px;\r\n  bottom: 5px;\r\n  white-space: nowrap;\r\n  transition: 0.3s;\r\n  position: absolute;\r\n}\r\n\r\n.preview img {\r\n  width: 64px;\r\n  height: 48px;\r\n  margin: 0 5px;\r\n  border: 2px solid white;\r\n  border-radius: 5px;\r\n}\r\n\r\n.checkBorder {\r\n  width: 64px;\r\n  height: 48px;\r\n  border: 2px solid red;\r\n  position: absolute;\r\n  bottom: 4px;\r\n  transition: 0.3s;\r\n  border-radius: 5px;\r\n}\r\n\r\n@keyframes msg {\r\n  0% {opacity: 0;}\r\n  50% {opacity: 0;}\r\n  100% {opacity: 1;}\r\n}\r\n\r\n.view-leave-active{\r\n  animation: msg 0.3s reverse;\r\n}\r\n\r\n.view-enter-active{\r\n  animation: msg 0.3s;\r\n}\r\n\r\nspan{\r\n  color: white;\r\n  margin: 5px 5px;\r\n  bottom: 0;\r\n  position: absolute;\r\n  width: 1160px;\r\n}\r\n</style>"],"mappings":";AAsBA;EACAA,IAAA;EACAC,KAAA;IACA;MACAC,GAAA,GACA;QAAAC,IAAA;QAAAC,OAAA;QAAAC,GAAA;MAAA,GACA;QAAAF,IAAA;QAAAC,OAAA;QAAAC,GAAA;MAAA,GACA;QAAAF,IAAA;QAAAC,OAAA;QAAAC,GAAA;MAAA,GACA;QAAAF,IAAA;QAAAC,OAAA;QAAAC,GAAA;MAAA,GACA;QAAAF,IAAA;QAAAC,OAAA;QAAAC,GAAA;MAAA,EACA;MACAF,IAAA;MACAC,OAAA;MACAC,GAAA;MACAC,KAAA;MACAC,KAAA;IACA;EACA;EACAC,OAAA;IACAC,cAAA;MACA,KAAAF,KAAA,GAAAG,WAAA;QACA,KAAAC,KAAA,CAAAR,IAAA,CAAAS,KAAA,CAAAC,UAAA;QACA,KAAAF,KAAA,CAAAR,IAAA,CAAAS,KAAA,CAAAE,IAAA,gBAAAR,KAAA;QACA,KAAAK,KAAA,CAAAI,WAAA,CAAAH,KAAA,CAAAI,KAAA,kBAAAZ,OAAA,CAAAa,MAAA,QAAAX,KAAA;QACA,SAAAF,OAAA,CAAAa,MAAA,UAAAX,KAAA;UACA,KAAAK,KAAA,CAAAI,WAAA,CAAAH,KAAA,CAAAI,KAAA,kBAAAZ,OAAA,CAAAa,MAAA;QACA;QACA,KAAAX,KAAA;MACA;IACA;IACA;IACAY,UAAAC,KAAA;MACAC,aAAA,MAAAb,KAAA;MACA,IAAAY,KAAA,CAAAE,MAAA,CAAArB,IAAA,KAAAsB,SAAA;QACA,IAAAtB,IAAA,GAAAuB,MAAA,CAAAJ,KAAA,CAAAE,MAAA,CAAArB,IAAA;QACA,KAAAW,KAAA,CAAAR,IAAA,CAAAS,KAAA,CAAAE,IAAA,WAAAd,IAAA;QACA,KAAAW,KAAA,CAAAI,WAAA,CAAAH,KAAA,CAAAI,KAAA,kBAAAZ,OAAA,CAAAa,MAAA,GAAAjB,IAAA;QACA,KAAAM,KAAA,GAAAN,IAAA;MACA;IACA;EACA;EACAwB,QAAA;IACA,KAAAtB,GAAA,CAAAuB,OAAA,CAAAC,IAAA;MACA,KAAAvB,IAAA,CAAAwB,IAAA,CAAAD,IAAA,CAAAvB,IAAA;MACA,KAAAC,OAAA,CAAAuB,IAAA,CAAAD,IAAA,CAAAtB,OAAA;MACA,KAAAC,GAAA,CAAAsB,IAAA;QAAAtB,GAAA,EAAAqB,IAAA,CAAArB,GAAA;QAAAuB,MAAA;MAAA;IACA;IACA,KAAAzB,IAAA,CAAAwB,IAAA,MAAAxB,IAAA;IAEA,KAAAQ,KAAA,CAAAR,IAAA,CAAA0B,gBAAA;MACA,SAAAvB,KAAA,UAAAH,IAAA,CAAAc,MAAA;QACA,KAAAX,KAAA;QACA,KAAAK,KAAA,CAAAR,IAAA,CAAAS,KAAA,CAAAC,UAAA;QACA,KAAAF,KAAA,CAAAR,IAAA,CAAAS,KAAA,CAAAE,IAAA;MACA;QACA,KAAAR,KAAA;MACA;IACA;IAEA,KAAAG,aAAA;EACA;AAEA"},"metadata":{},"sourceType":"module","externalDependencies":[]}