{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: \"WebAnimation\",\n  data: {\n    return: {\n      fan: [{\n        view: \"./view/1.webp\",\n        preview: \"./preview/preview_1.jpg\",\n        msg: \"辉夜大小姐\"\n      }, {\n        view: \"./view/2.webp\",\n        preview: \"./preview/preview_2.jpg\",\n        msg: \"夏日重现\"\n      }, {\n        view: \"./view/3.webp\",\n        preview: \"./preview/preview_3.jpg\",\n        msg: \"盾之勇者成名录\"\n      }, {\n        view: \"./view/4.webp\",\n        preview: \"./preview/preview_4.jpg\",\n        msg: \"间谍过家家\"\n      }, {\n        view: \"./view/5.webp\",\n        preview: \"./preview/preview_5.jpg\",\n        msg: \"约会大作战\"\n      }],\n      view: [],\n      preview: [],\n      msg: [],\n      index: 0,\n      timer: undefined\n    }\n  },\n  methods: {\n    startInterval() {\n      this.timer = setInterval(() => {\n        this.$refs.view.style.transition = '0.3s';\n        this.$refs.view.style.left = -1160 * this.index + 'px';\n        this.$refs.checkBorder.style.right = 5 + 78 * (this.preview.length - this.index - 1) + 'px';\n        if (this.preview.length === this.index) {\n          this.$refs.checkBorder.style.right = 5 + 78 * (this.preview.length - 1) + 'px';\n        }\n        this.index++;\n      }, 3000);\n    },\n    // 鼠标悬浮在图片上时停止轮播\n    mouseover(event) {\n      clearInterval(this.timer);\n      if (event.target.name !== undefined) {\n        let name = Number(event.target.name);\n        this.$refs.view.style.left = -1160 * name + 'px';\n        this.$refs.checkBorder.style.right = 5 + 78 * (this.preview.length - name - 1) + 'px';\n        this.index = name + 1;\n      }\n    }\n  },\n  mounted() {\n    this.fan.forEach(item => {\n      this.view.push(item.view);\n      this.preview.push(item.preview);\n      this.msg.push({\n        msg: item.msg,\n        isShow: false\n      });\n    });\n    this.view.push(this.view[0]);\n    this.$refs.view.addEventListener('transitionend', () => {\n      if (this.index == this.view.length) {\n        this.index = 1;\n        this.$refs.view.style.transition = '0s';\n        this.$refs.view.style.left = '0px';\n      }\n    }, false);\n    this.startInterval();\n  },\n  watch: {\n    index(newVal) {\n      this.msg.forEach((item, index) => {\n        if (index === newVal - 1 || index === 0 && newVal === this.fan.length + 1) {\n          item.isShow = true;\n        } else {\n          item.isShow = false;\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["name","data","return","fan","view","preview","msg","index","timer","undefined","methods","startInterval","setInterval","$refs","style","transition","left","checkBorder","right","length","mouseover","event","clearInterval","target","Number","mounted","forEach","item","push","isShow","addEventListener","watch","newVal"],"sources":["src/views/Animation.vue"],"sourcesContent":["<template>\r\n  <div id=\"root\" @mouseover=\"mouseover\" @mouseout=\"startInterval\">\r\n    <!-- 大图轮播 -->\r\n    <div class=\"view\" ref=\"view\">\r\n        <img v-for=\"(img,index) in view\" :name=\"index\" :src=\"img\" />\r\n    </div>\r\n    <!-- 下方的阴影 -->\r\n    <div class=\"shadow\">\r\n        <!-- 文字渐入渐出动画 -->\r\n        <transition-group>\r\n            <span v-for=\"(msgObj, index) in msg\" ref=\"msg\" v-show=\"msgObj.isShow\" :key=\"index\">{{msgObj.msg}}</span>\r\n        </transition-group>\r\n        <!-- 右下角缩略图以及红框 -->\r\n        <div class=\"preview\" ref=\"preview\">\r\n            <img v-for=\"(pre, index) in preview\" :name=\"index\" :src=\"pre\" />\r\n            <div class=\"checkBorder\" ref=\"checkBorder\"></div>\r\n        </div>\r\n    </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\nname:\"WebAnimation\",\r\ndata:{\r\n  return:{\r\n            fan: [\r\n                { view: \"./view/1.webp\", preview: \"./preview/preview_1.jpg\", msg: \"辉夜大小姐\" },\r\n                { view: \"./view/2.webp\", preview: \"./preview/preview_2.jpg\", msg: \"夏日重现\" },\r\n                { view: \"./view/3.webp\", preview: \"./preview/preview_3.jpg\", msg: \"盾之勇者成名录\" },\r\n                { view: \"./view/4.webp\", preview: \"./preview/preview_4.jpg\", msg: \"间谍过家家\" },\r\n                { view: \"./view/5.webp\", preview: \"./preview/preview_5.jpg\", msg: \"约会大作战\" },\r\n            ],\r\n            view: [],\r\n            preview: [],\r\n            msg: [],\r\n            index: 0,\r\n            timer: undefined\r\n        },\r\n  },\r\n  methods: {\r\n            startInterval() {\r\n                this.timer = setInterval(() => {\r\n                    this.$refs.view.style.transition = '0.3s';\r\n                    this.$refs.view.style.left = -1160 * this.index + 'px';\r\n                    this.$refs.checkBorder.style.right = 5 + 78 * (this.preview.length - this.index - 1) + 'px';\r\n                    if (this.preview.length === this.index) {\r\n                        this.$refs.checkBorder.style.right = 5 + 78 * (this.preview.length - 1) + 'px';\r\n                    }\r\n                    this.index++;\r\n                }, 3000);\r\n            },\r\n            // 鼠标悬浮在图片上时停止轮播\r\n            mouseover(event) {\r\n                clearInterval(this.timer);\r\n                if (event.target.name !== undefined) {\r\n                    let name = Number(event.target.name);\r\n                    this.$refs.view.style.left = -1160 * name + 'px';\r\n                    this.$refs.checkBorder.style.right = 5 + 78 * (this.preview.length - name - 1) + 'px';\r\n                    this.index = name + 1;\r\n                }\r\n            },\r\n        },\r\n        mounted() {\r\n            this.fan.forEach(item => {\r\n                this.view.push(item.view);\r\n                this.preview.push(item.preview);\r\n                this.msg.push({msg: item.msg, isShow: false});\r\n            });\r\n            this.view.push(this.view[0]);\r\n\r\n            this.$refs.view.addEventListener('transitionend', () => {\r\n                if (this.index == this.view.length) {\r\n                    this.index = 1;\r\n                    this.$refs.view.style.transition = '0s';\r\n                    this.$refs.view.style.left = '0px';\r\n                }\r\n            }, false);\r\n\r\n            this.startInterval();\r\n        },\r\n        watch: {\r\n            index(newVal){\r\n                this.msg.forEach((item,index) => {\r\n                    if (index === newVal-1 || index === 0 && newVal === this.fan.length+1) {\r\n                        item.isShow = true;\r\n                    } else {\r\n                        item.isShow = false;\r\n                    }\r\n                })\r\n            }\r\n        },\r\n    }\r\n\r\n\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"],"mappings":";AAsBA;EACAA,IAAA;EACAC,IAAA;IACAC,MAAA;MACAC,GAAA,GACA;QAAAC,IAAA;QAAAC,OAAA;QAAAC,GAAA;MAAA,GACA;QAAAF,IAAA;QAAAC,OAAA;QAAAC,GAAA;MAAA,GACA;QAAAF,IAAA;QAAAC,OAAA;QAAAC,GAAA;MAAA,GACA;QAAAF,IAAA;QAAAC,OAAA;QAAAC,GAAA;MAAA,GACA;QAAAF,IAAA;QAAAC,OAAA;QAAAC,GAAA;MAAA,EACA;MACAF,IAAA;MACAC,OAAA;MACAC,GAAA;MACAC,KAAA;MACAC,KAAA,EAAAC;IACA;EACA;EACAC,OAAA;IACAC,cAAA;MACA,KAAAH,KAAA,GAAAI,WAAA;QACA,KAAAC,KAAA,CAAAT,IAAA,CAAAU,KAAA,CAAAC,UAAA;QACA,KAAAF,KAAA,CAAAT,IAAA,CAAAU,KAAA,CAAAE,IAAA,gBAAAT,KAAA;QACA,KAAAM,KAAA,CAAAI,WAAA,CAAAH,KAAA,CAAAI,KAAA,kBAAAb,OAAA,CAAAc,MAAA,QAAAZ,KAAA;QACA,SAAAF,OAAA,CAAAc,MAAA,UAAAZ,KAAA;UACA,KAAAM,KAAA,CAAAI,WAAA,CAAAH,KAAA,CAAAI,KAAA,kBAAAb,OAAA,CAAAc,MAAA;QACA;QACA,KAAAZ,KAAA;MACA;IACA;IACA;IACAa,UAAAC,KAAA;MACAC,aAAA,MAAAd,KAAA;MACA,IAAAa,KAAA,CAAAE,MAAA,CAAAvB,IAAA,KAAAS,SAAA;QACA,IAAAT,IAAA,GAAAwB,MAAA,CAAAH,KAAA,CAAAE,MAAA,CAAAvB,IAAA;QACA,KAAAa,KAAA,CAAAT,IAAA,CAAAU,KAAA,CAAAE,IAAA,WAAAhB,IAAA;QACA,KAAAa,KAAA,CAAAI,WAAA,CAAAH,KAAA,CAAAI,KAAA,kBAAAb,OAAA,CAAAc,MAAA,GAAAnB,IAAA;QACA,KAAAO,KAAA,GAAAP,IAAA;MACA;IACA;EACA;EACAyB,QAAA;IACA,KAAAtB,GAAA,CAAAuB,OAAA,CAAAC,IAAA;MACA,KAAAvB,IAAA,CAAAwB,IAAA,CAAAD,IAAA,CAAAvB,IAAA;MACA,KAAAC,OAAA,CAAAuB,IAAA,CAAAD,IAAA,CAAAtB,OAAA;MACA,KAAAC,GAAA,CAAAsB,IAAA;QAAAtB,GAAA,EAAAqB,IAAA,CAAArB,GAAA;QAAAuB,MAAA;MAAA;IACA;IACA,KAAAzB,IAAA,CAAAwB,IAAA,MAAAxB,IAAA;IAEA,KAAAS,KAAA,CAAAT,IAAA,CAAA0B,gBAAA;MACA,SAAAvB,KAAA,SAAAH,IAAA,CAAAe,MAAA;QACA,KAAAZ,KAAA;QACA,KAAAM,KAAA,CAAAT,IAAA,CAAAU,KAAA,CAAAC,UAAA;QACA,KAAAF,KAAA,CAAAT,IAAA,CAAAU,KAAA,CAAAE,IAAA;MACA;IACA;IAEA,KAAAL,aAAA;EACA;EACAoB,KAAA;IACAxB,MAAAyB,MAAA;MACA,KAAA1B,GAAA,CAAAoB,OAAA,EAAAC,IAAA,EAAApB,KAAA;QACA,IAAAA,KAAA,KAAAyB,MAAA,QAAAzB,KAAA,UAAAyB,MAAA,UAAA7B,GAAA,CAAAgB,MAAA;UACAQ,IAAA,CAAAE,MAAA;QACA;UACAF,IAAA,CAAAE,MAAA;QACA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}